import{g as Z,w as ee,f as ae,u as te,_ as le,a as P,s as oe,b as se,c as re,d as ne,e as ie}from"./DjJ2hnn2.js";import{f as N,g as T,h as B,i as ue,j as de,k as ce,l as S,o as k,w as p,b as u,m as e,P as K,r as z,n as me,p as H,q as ve,s as R,v as A,x as pe,y as fe,z as Q,A as be,B as ye,C as G,D as xe,E as ge,F as he,G as Ve,H as ke,I as we,J as Ce,K as j,a as qe,c as M,L as q,M as L,d as O,t as D,N as w,O as Se,Q as Ie,R as F,S as Fe,T as Be}from"./BHPdnVKj.js";import{u as $e,i as _}from"./BqI6sL6x.js";import{i as J}from"./Bl9_Mlev.js";const[Ee,Je]=N("RovingFocusGroup"),[ze,He]=N("CheckboxGroupRoot");function U(l){return l==="indeterminate"}function W(l){return U(l)?"indeterminate":l?"checked":"unchecked"}const Re=T({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const f=l,a=Ee(),n=$e(),b=B(()=>f.tabStopId||n),g=B(()=>a.currentTabStopId.value===b.value),{getItems:c,CollectionItem:y}=ue();de(()=>{f.focusable&&a.onFocusableItemAdd()}),ce(()=>{f.focusable&&a.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){a.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const i=Z(t,a.orientation.value,a.dir.value);if(i!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!f.allowShiftKey&&t.shiftKey)return;t.preventDefault();let r=[...c().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")];if(i==="last")r.reverse();else if(i==="prev"||i==="next"){i==="prev"&&r.reverse();const v=r.indexOf(t.currentTarget);r=a.loop.value?ee(r,v+1):r.slice(v+1)}me(()=>ae(r))}}return(t,i)=>(k(),S(e(y),null,{default:p(()=>[u(e(K),{tabindex:g.value?0:-1,"data-orientation":e(a).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:i[0]||(i[0]=r=>{t.focusable?e(a).onItemFocus(b.value):r.preventDefault()}),onFocus:i[1]||(i[1]=r=>e(a).onItemFocus(b.value)),onKeydown:m},{default:p(()=>[z(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Ue,Ke]=N("CheckboxRoot"),Me=T({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:f}){const a=l,n=f,{forwardRef:b,currentElement:g}=H(),c=ze(null),y=ve(a,"modelValue",n,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),m=B(()=>c?.disabled.value||a.disabled),t=B(()=>_(c?.modelValue.value)?y.value==="indeterminate"?"indeterminate":y.value:J(c.modelValue.value,a.value));function i(){if(_(c?.modelValue.value))y.value=U(y.value)?!0:!y.value;else{const o=[...c.modelValue.value||[]];if(J(o,a.value)){const I=o.findIndex($=>be($,a.value));o.splice(I,1)}else o.push(a.value);c.modelValue.value=o}}const r=te(g),v=B(()=>a.id&&g.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Ke({disabled:m,state:t}),(o,I)=>(k(),S(Q(e(c)?.rovingFocus.value?e(Re):e(K)),A(o.$attrs,{id:o.id,ref:e(b),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":e(U)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||v.value,"data-state":e(W)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:e(c)?.rovingFocus.value?!m.value:void 0,onKeydown:pe(fe(()=>{},["prevent"]),["enter"]),onClick:i}),{default:p(()=>[z(o.$slots,"default",{modelValue:e(y),state:t.value}),e(r)&&o.name&&!e(c)?(k(),S(e(le),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):R("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),Ne=T({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:f}=H(),a=Ue();return(n,b)=>(k(),S(e(ye),{present:n.forceMount||e(U)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[u(e(K),A({ref:e(f),"data-state":e(W)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":n.asChild,as:n.as},n.$attrs),{default:p(()=>[z(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Te={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},Ae=Object.assign({inheritAttrs:!1},{__name:"UCheckbox",props:G({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:String,required:!1},indeterminateIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:G(["change"],["update:modelValue"]),setup(l,{emit:f}){const a=l,n=xe(),b=f,g=ge(l,"modelValue",{type:[Boolean,String],default:void 0}),c=he(),y=Ve(ke(a,"required","value","defaultValue")),{id:m,emitFormChange:t,emitFormInput:i,size:r,color:v,name:o,disabled:I,ariaAttrs:$}=we(a),C=m.value??Ce(),s=B(()=>j({extend:j(Te),...c.ui?.checkbox||{}})({size:r.value,color:v.value,variant:a.variant,indicator:a.indicator,required:a.required,disabled:I.value}));function V(d){const h=new Event("change",{target:{value:d}});b("change",h),t(),i()}return(d,h)=>(k(),S(e(K),{as:!l.variant||l.variant==="list"?l.as:e(P),class:q(s.value.root({class:[a.ui?.root,a.class]}))},{default:p(()=>[qe("div",{class:q(s.value.container({class:a.ui?.container}))},[u(e(Me),A({id:e(C)},{...e(y),...d.$attrs,...e($)},{modelValue:g.value,"onUpdate:modelValue":[h[0]||(h[0]=E=>g.value=E),V],name:e(o),disabled:e(I),class:s.value.base({class:a.ui?.base})}),{default:p(({modelValue:E})=>[u(e(Ne),{class:q(s.value.indicator({class:a.ui?.indicator}))},{default:p(()=>[E==="indeterminate"?(k(),S(L,{key:0,name:l.indeterminateIcon||e(c).ui.icons.minus,class:q(s.value.icon({class:a.ui?.icon}))},null,8,["name","class"])):(k(),S(L,{key:1,name:l.icon||e(c).ui.icons.check,class:q(s.value.icon({class:a.ui?.icon}))},null,8,["name","class"]))]),_:2},1032,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),l.label||n.label||l.description||n.description?(k(),M("div",{key:0,class:q(s.value.wrapper({class:a.ui?.wrapper}))},[l.label||n.label?(k(),S(Q(!l.variant||l.variant==="list"?e(P):"p"),{key:0,for:e(C),class:q(s.value.label({class:a.ui?.label}))},{default:p(()=>[z(d.$slots,"label",{label:l.label},()=>[O(D(l.label),1)])]),_:3},8,["for","class"])):R("",!0),l.description||n.description?(k(),M("p",{key:1,class:q(s.value.description({class:a.ui?.description}))},[z(d.$slots,"description",{description:l.description},()=>[O(D(l.description),1)])],2)):R("",!0)],2)):R("",!0)]),_:3},8,["as","class"]))}}),Pe=10,Ge=2e9,je=1e3,Qe={__name:"[artisan]",async setup(l){let f,a;const n=w(0),b=w(0),g=w(0),c=Se(),y=new oe(c.params.artisan,"Artisan");[f,a]=Ie(()=>y.readSkillJson()),await f,a();const m=w(y),t=w({label:"Select item to craft"}),i=w({label:"None"}),r=w({label:"None"}),v=w(!1),o=w([{"experience source":"None","experience required":0,"experience per iteration":0,"required iterations":0,"estimated time":"00:00:00","required materials":"N/A"}]);function I(C){const V=m.value.getExperienceFromLevel(g.value)-b.value,d=m.value.calculateIterationExperince(t.value,n.value,i.value,r.value,v.value),h=Math.ceil(V/d);o.value[0]["experience source"]=t.value.label,o.value[0]["experience required"]=V,o.value[0]["experience per iteration"]=d,o.value[0]["required iterations"]=h,o.value[0]["estimated time"]=m.value.calculateTotalTime(h,t.value,r.value,v.value),o.value[0]["required materials"]=$(t.value.input,h)}function $(C,s){if(C==null||C.length==0)return"None";var V="";for(const d of C)V+=d.inputAmount*s+" "+d.name+`
`;return V}return(C,s)=>{const V=ne,d=se,h=ie,E=Ae,X=Be,Y=re;return k(),M(Fe,null,[u(d,{label:"Current prestige"},{default:p(()=>[u(V,{modelValue:e(n),"onUpdate:modelValue":s[0]||(s[0]=x=>F(n)?n.value=x:null),placeholder:"Enter current prestige",min:0,max:Pe},null,8,["modelValue"])]),_:1}),u(d,{label:"Current experience"},{default:p(()=>[u(V,{modelValue:e(b),"onUpdate:modelValue":s[1]||(s[1]=x=>F(b)?b.value=x:null),placeholder:"Enter current experience",min:0,max:Ge},null,8,["modelValue"])]),_:1}),u(d,{label:"Experience source"},{default:p(()=>[u(h,{modelValue:e(t),"onUpdate:modelValue":s[2]||(s[2]=x=>F(t)?t.value=x:null),items:e(m).experienceSources,class:"w-48"},null,8,["modelValue","items"])]),_:1}),u(d,{label:"Active Invocation"},{default:p(()=>[u(h,{modelValue:e(i),"onUpdate:modelValue":s[3]||(s[3]=x=>F(i)?i.value=x:null),items:e(m).invocations,class:"w-48"},null,8,["modelValue","items"])]),_:1}),u(d,{label:"Active Potion"},{default:p(()=>[u(h,{modelValue:e(r),"onUpdate:modelValue":s[4]||(s[4]=x=>F(r)?r.value=x:null),items:e(m).potions,class:"w-48"},null,8,["modelValue","items"])]),_:1}),u(d,{label:"Goal Level"},{default:p(()=>[u(V,{modelValue:e(g),"onUpdate:modelValue":s[5]||(s[5]=x=>F(g)?g.value=x:null),placeholder:"Enter goal level",min:0,max:je},null,8,["modelValue"])]),_:1}),u(E,{label:"Include Base Material Experience",modelValue:e(v),"onUpdate:modelValue":s[6]||(s[6]=x=>F(v)?v.value=x:null)},null,8,["modelValue"]),u(X,{label:"Submit",icon:"i-lucide-calculator",onClick:I}),u(Y,{data:e(o),class:"flex-1"},null,8,["data"])],64)}}};export{Qe as default};
